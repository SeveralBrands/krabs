(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[378],{7197:function(e,t,n){"use strict";n.r(t),n.d(t,{frontMatter:function(){return r},metadata:function(){return s},toc:function(){return l},default:function(){return u}});var a=n(2122),o=n(9756),i=(n(7294),n(3905)),r={sidebar_position:2,title:"Krabs Configuration"},s={unversionedId:"tutorial-basics/krabs-configuration",id:"tutorial-basics/krabs-configuration",isDocsHomePage:!1,title:"Krabs Configuration",description:"As written in the previous section, we can create a file called .krabs.js (or .krabs.config.js) inside of the root folder of our project, and krabs will automatically import the configuration from this file.",source:"@site/docs/tutorial-basics/krabs-configuration.md",sourceDirName:"tutorial-basics",slug:"/tutorial-basics/krabs-configuration",permalink:"/krabs/docs/tutorial-basics/krabs-configuration",editUrl:"https://github.com/facebook/docusaurus/edit/master/website/docs/tutorial-basics/krabs-configuration.md",version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2,title:"Krabs Configuration"},sidebar:"tutorialSidebar",previous:{title:"Getting Started",permalink:"/krabs/docs/tutorial-basics/getting-started"},next:{title:"Creating Pages",permalink:"/krabs/docs/tutorial-basics/creating-pages"}},l=[],c={toc:l};function u(e){var t=e.components,n=(0,o.Z)(e,["components"]);return(0,i.kt)("wrapper",(0,a.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("p",null,"As written in the previous section, we can create a file called ",(0,i.kt)("inlineCode",{parentName:"p"},".krabs.js")," (or ",(0,i.kt)("inlineCode",{parentName:"p"},".krabs.config.js"),") inside of the root folder of our project, and krabs will automatically import the configuration from this file."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-javascript"},"module.exports = {\n  tenants: [\n    {\n      name: 'website-1',\n      domains: [\n        {\n          development: /dev\\.[a-z]*\\.local\\.website-1\\.com/, // Regex supported!\n          stage: 'stage.website-1.com',\n          production: 'website-1.com',\n        },\n      ],\n    },\n    {\n      name: 'website-2',\n      domains: [\n        {\n          development: 'local.website-2.com',\n          stage: 'stage.website-2.com',\n          production: /[\\w|\\d|-|_]+\\.website-2.com/, // Regex supported!\n        },\n      ],\n    },\n  ],\n};\n")),(0,i.kt)("p",null,"The configuration file can export one of the following:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"Plain object")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"Function")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"Async function"))),(0,i.kt)("p",null,"so the following configurations are fully supported:"),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Object configuration")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-javascript"},"module.exports = {\n  // ...configuration\n}\n")),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Function configuration")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-javascript"},"module.exports = () => ({\n  // ...configuration\n})\n")),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Async function configuration")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-javascript"},"module.exports = async () => ({\n  // ...configuration\n})\n")),(0,i.kt)("p",null,"With the configuration above, we're adding support for two different tenants:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"website-1")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"website-2"))),(0,i.kt)("p",null,"we also write down three different domains for each tenant.\nAs you can see, in a local environment, ",(0,i.kt)("strong",{parentName:"p"},"website-1")," will support all the routes matching  the ",(0,i.kt)("inlineCode",{parentName:"p"},"/dev.[a-z]*.local.website-1.com/")," regular expression.\nThat means that we can set up our ",(0,i.kt)("inlineCode",{parentName:"p"},"hosts")," file as follows:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-txt"},"127.0.0.1 dev.mywebsite.local.website-1.com\n127.0.0.1 dev.ilovepizza.local.website-1.com\n127.0.0.1 dev.foo.local.website-1.com\n")),(0,i.kt)("p",null,"and still, be served with the same Next.js website."))}u.isMDXComponent=!0}}]);